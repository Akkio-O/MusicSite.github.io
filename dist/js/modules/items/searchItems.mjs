const e=document.querySelector(".options");async function n(e){try{const n=await fetch(e);if(!n.ok)throw new Error("Ошибка HTTP: "+n.status);return await n.json()}catch(e){return console.error("Произошла ошибка при загрузке данных:",e),[]}}function o(e,n){const o=e.trim().toLowerCase();return n.filter((e=>{const n=e.IE_NAME&&e.IE_NAME.toLowerCase().includes(o),t=e.IC_GROUP0&&e.IC_GROUP0.toLowerCase().includes(o)||e.IC_GROUP1&&e.IC_GROUP1.toLowerCase().includes(o)||e.IC_GROUP2&&e.IC_GROUP2.toLowerCase().includes(o);return n||t}))}function t(n,t){const c=n.trim();if(!c)return e.innerHTML="",void(e.style.backgroundColor="transparent");const r=o(c,t),s=document.createDocumentFragment();r.slice(0,10).forEach((e=>{const o=new RegExp(c,"gi"),r=e.IE_NAME.replace(o,`<span class="hl">${n}</span>`),a=document.createElement("li");a.innerHTML=`<span>${r}</span>`,a.addEventListener("click",(function(n){const o=e.IC_GROUP0,c=e.IC_GROUP1,r=e.IC_GROUP2,s=e.IE_NAME;let a=[];if(!o&&c){const e=t.find((e=>e.IC_GROUP1===c))?.IC_GROUP0;a.push(`category=${encodeURIComponent(decodeURIComponent(e))}`),a.push(`subcategory=${encodeURIComponent(decodeURIComponent(c))}`),a.push(`search=${encodeURIComponent(decodeURIComponent(s))}`)}else a.push(`category=${encodeURIComponent(decodeURIComponent(o))}`),a.push(`subcategory=${encodeURIComponent(decodeURIComponent(c))}`),r&&a.push(`subsubcategory=${encodeURIComponent(decodeURIComponent(r))}`),a.push(`search=${encodeURIComponent(decodeURIComponent(s))}`);const d=`/category/products?${a.join("&")}`;window.open(d,"_blank"),n.stopPropagation(),n.preventDefault()})),s.appendChild(a)})),e.innerHTML="",e.appendChild(s),e.style.backgroundColor=r.length>0?"#ea7e67":"transparent"}export{n as fetchData,o as getOptions,t as displayOptions};